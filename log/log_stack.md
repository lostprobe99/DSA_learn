## stack

### stack类设计

继承自向量

```c++
template <typename T>
class stack : public vec<T>
{
public:
    stack() {}
    ~stack() {}
    bool empty() const;
    bool is_empty() const { return empty(); };
    void push(T const & e);
    T    pop();
    T &  top();
};
```

### 应用

#### 进制转换

保存短除法中产生的余数，计算完成后逐个弹出并输出。

#### 中缀表达式求值

扫描表达式，遇到数字，保存至数字栈，如果遇到运算符，和运算符栈顶的运算符对比，如果栈顶运算符的优先级更高，将其弹出，并从数字栈中弹出所需数字进行运算，运算结果继续压入数字栈，直到运算符栈为空，此时数字栈中只剩最后的结果。

初始认为表达式头部存在一个空字符，和表达式结束符联合定义一个表达式。运算符栈初始入一个空字符。

运算符优先级定义：运算符优先级表

&ensp;| +|-|*|/|^|!|(|)|\0
:-:   |-|-|-|-|-|-|-|-|-
  +   |>|>|<|<|<|<|<|>|>
  -   |>|>|<|<|<|<|<|>|>
  *   |>|>|>|>|<|<|<|>|>
  /   |>|>|>|>|<|<|<|>|>
  ^   |>|>|>|>|>|<|<|>|>
  !   |>|>|>|>|>|>| |>|>
  (   |<|<|<|<|<|<|<|=| 
  )   | | | | | | | | 
  \0  |<|<|<|<|<|<|<| |=

#### 中缀转后缀（逆波兰表达式(RPN)）

中缀表达式求值只需稍作改动即可用于将中缀表达式转换为后缀表达式

扫描表达式，遇到数字时，添加到RPN上，遇到运算符时，如果栈顶运算符大于表达式当前运算符，将其添加到RPN，其他和中缀求值等同

#### 后缀求值

扫描表达式，遇到数字时，入栈，遇到运算符时，从栈中弹出运算符所需的数字进行运算，将结果保存到这个栈中，持续进行，直到表达式结束。此时栈中只有一个数，就是最终结果，初始栈为空。